<!DOCTYPE html>
<html lang="nl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instellingen</title>
  <link rel="icon" href="../IMG/JD_Web_Solutions.ico">

  <link rel="stylesheet" href="../CSS/main.css">
  <link rel="stylesheet" href="../CSS/components-menu.css">
  <link rel="stylesheet" href="../CSS/components-sidemenu.css">
  <link rel="stylesheet" href="../CSS/page-settings.css">
  <script>
    // 1. DIT ZORGT VOOR DE RODE BALK
    window.APP_ENV = "DEV"; 

    // Thema voorkeur
    (function () {
      try {
        var pref = localStorage.getItem('theme_pref') || 'system';
        var final = pref === 'system'
          ? (window.matchMedia && matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light')
          : pref;
        document.documentElement.setAttribute('data-theme', final);
      } catch (e) { /* no-op */ }
    })();
  </script>
</head>

<body class="settings-page">
  <!-- AUTH -->
  <div id="auth">
    <button id="login-btn">üîê Inloggen met Google</button>
  </div>

  <!-- gedeelde header -->
  <div data-include="../partials/header.html"></div>

  <!-- APP -->
  <div id="app" style="display:none;">
    <div class="page">
      <main class="content">
        <!-- Weergave -->
        <section class="card">
          <h2>Weergave</h2>
          <div style="display:flex; gap:1rem; flex-wrap:wrap; justify-content:center;">
            <label><input type="radio" name="theme" value="system" checked> Systeem</label>
            <label><input type="radio" name="theme" value="light"> Licht</label>
            <label><input type="radio" name="theme" value="dark"> Donker</label>
          </div>
          <div style="display:flex; justify-content:center;">
            <button id="saveTheme" class="primary" style="margin-top:.75rem;">üíæ Opslaan</button>
          </div>
        </section>

        <!-- Categorie√´n -->
        <section class="card">
          <h2>Categorie√´n</h2>
          <div style="display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; justify-content:center;">
            <input id="catName" placeholder="Nieuwe categorie" style="max-width:260px;" />
            <select id="catType">
              <option value="werk">Werk</option>
              <option value="prive">Priv√©</option>
            </select>
            <button id="addCat" class="primary">‚ûï Toevoegen</button>
          </div>
          <div id="catList" style="margin-top:1rem;"></div>
        </section>

        <!-- Post-its per modus -->
        <section class="card">
          <h2>Post-its per modus</h2>

          <!-- icon-toggle -->
          <div class="mode-toggle">
            <input type="checkbox" id="modeSwitchSettings" aria-label="Schakel tussen werk en priv√©" />
            <label for="modeSwitchSettings" class="switch icon-only">
              <span class="knob"></span>
              <span class="icon icon-work" title="Werk">üß∞</span>
              <span class="icon icon-prive" title="Priv√©">üè†</span>
            </label>
          </div>

          <div id="modeSlots"></div>
          <div style="display:flex; justify-content:center;">
            <button id="saveModeSlots" class="primary" style="margin-top:.75rem;">üíæ Opslaan</button>
          </div>
        </section>
      </main>

      <aside class="rightcol"><!-- leeg, layout consistent --></aside>
    </div>
  </div>

  <!-- Modals en header partials -->
  <div data-include="../partials/modals.html"></div>
  <script type="module" src="../script/javascript/modal.js"></script>

  <!-- Eerst includes, dan menu, dan page-script -->
  <script src="../script/javascript/include-partials.js"></script>
  <script src="../script/javascript/menu.js"></script>
  
  <script type="module" src="../script/javascript/main.js"></script>
  <script type="module" src="../script/javascript/time.js"></script>

  <!-- op HTML/settings.html: -->
  <script type="module" src="../script/javascript/settings.js"></script>
  <!-- op HTML/notes.html: -->
  <!-- <script type="module" src="../Script/Javascript/notes.js"></script> -->

</body>

</html>